# ⚔️ Project: Demon Slayer (Time Attack Roguelike)
> **개발 문서 (Game Design Document)**
> 작성일: 2024.02.05
> 장르: 맵 탐색형 로그라이크 (Map Exploration Roguelike)
> 핵심 재미: 턴제 전투 전략 + 시간 제한(침공 게이지) 관리

---

## 1. 개요 (Overview)
### 1.1 게임 컨셉
마왕이 마을을 침공하려 합니다. 플레이어는 용사가 되어 마왕군을 뚫고 마왕성으로 진격하여 마왕을 처치해야 합니다. 하지만 시간이 지체되면 마을이 파괴됩니다.

### 1.2 핵심 루프 (Core Loop)
1. **맵 이동:** 노드를 선택하여 이동 (침공 게이지 증가)
2. **이벤트 발생:** 적 조우, 상점 이용, 휴식 등
3. **전투/관리:** 턴제 커맨드 전투 또는 아이템 구매/정비
4. **결과:** 보상 획득 후 다시 1번으로 반복 (죽거나 마왕 처치 시 종료)

---

## 2. 주요 시스템 (Core Systems)

### 2.1 마왕의 침공 게이지 (Time Limit System)
이 게임의 핵심 긴장감 요소입니다.
* **작동 방식:**
  * 화면 하단에 `CurrentGauge / MaxGauge` (예: 5/30) 형태로 표시.
  * 플레이어가 맵에서 **1칸 이동할 때마다 게이지 +1 증가**.
  * 전투에서 **'도망가기' 선택 시 페널티로 게이지 +1 추가 증가**.
* **게임 오버 조건:**
  * 마왕을 죽이기 전에 게이지가 `MaxGauge`에 도달하면 **"마을 파괴"**로 패배 처리.

### 2.2 맵 시스템 (The Board)
* **구조:** `Start Node`(마을)에서 `Boss Node`(마왕성)까지 이어지는 단방향 그래프 구조.
* **노드 타입:**
  * ⚔️ **일반 전투:** 일반 병사와 전투 (돈, 경험치 획득)
  * 👹 **엘리트 전투:** 강한 적과 전투 (높은 보상, 유물)
  * 💰 **상점:** 골드를 소모하여 포션 구매 또는 장비 강화
  * ⛺ **휴식:** HP 회복 (턴 소모 주의)
  * 💀 **보스:** 최종 목표 (마왕)

### 2.3 전투 시스템 (Combat)
* **방식:** 고전 JRPG 스타일의 **턴제 커맨드 배틀**.
* **순서:** 플레이어 선공 → 적 후공.
* **플레이어 커맨드 (UI 버튼):**
  1. **[공격]:** 기본 데미지를 입힘.
  2. **[스킬]:** MP를 소모하여 강력한 공격 or 특수 효과.
  3. **[아이템]:** 인벤토리의 물약 사용 (턴 소모).
  4. **[도망]:** 전투 강제 종료 및 맵으로 복귀. (**단, 침공 게이지 +1 페널티**)

---

## 3. 데이터 구조 (Data Structure for AI)
*AI 에이전트가 코드를 작성할 때 참조할 변수 및 클래스 설계입니다.*

### 3.1 Global Game State (GameManager)
```json
{
  "currentTurn": 1,
  "invasionGauge": 0,
  "maxInvasionGauge": 30,
  "isGameOver": false,
  "gold": 100
}